

This note describes linear spatial filters, which operate on pixel neighborhoods and are implemented via convolution. Their primary use is for blurring and noise reduction.

## Definition of a Linear Filter

A spatial filter is considered linear if the value of the output pixel is a linear combination of the pixel values in the input neighborhood. This is mathematically equivalent to the [[In-Depth/Convolution]] operation, where the weights of the linear combination are the values in the filter's kernel.

### 1. Mean Filter (Averaging Filter)
The mean filter is the simplest linear filter. It replaces the value of each pixel with the unweighted average of the pixel values in a surrounding neighborhood.

-   **Principle:** All pixels in the neighborhood contribute equally to the output.
-   **Kernel:** A matrix where all elements are `1/N`, where `N` is the total number of elements in the kernel (e.g., `1/9` for a 3x3 kernel).
-   **Effect:**
    -   Reduces random (e.g., Gaussian) noise.
    -   Causes significant blurring of edges and fine details.
-   **Drawbacks:** It is highly sensitive to outliers (like salt-and-pepper noise) and indiscriminately blurs all features, leading to a loss of image sharpness. A larger kernel size results in more aggressive blurring.

### 2. Gaussian Filter
The Gaussian filter is a more sophisticated linear filter that also performs a weighted average, but the weights are determined by a Gaussian function.

-   **Principle:** Pixels closer to the center of the kernel are given more weight than those farther away. The weights diminish smoothly with distance from the center.
-   **Kernel:** The kernel values are sampled from a 2D Gaussian distribution. The `sigma` (standard deviation) parameter of the distribution controls the extent of the blurring.
-   **Effect:**
    -   Effective at reducing Gaussian noise.
    -   Produces a smoother, more natural-looking blur compared to the mean filter.
    -   Provides better preservation of edges than a mean filter of similar size.
-   **Insight:** The `sigma` parameter provides fine-grained control over the smoothing effect. A small `sigma` produces a kernel that approximates the original image, while a large `sigma` results in heavy blurring. The Gaussian filter is also separable, meaning a 2D convolution can be optimized by performing two 1D convolutions, which is computationally much faster.